{"version":3,"sources":["componets/Navbar/Navbar.module.css","reportWebVitals.js","redux/AppReducer.js","redux/ReduxStore.js","componets/Settings/Settings.jsx","componets/Music/Music.jsx","componets/News/News.jsx","componets/Navbar/Navbar.jsx","componets/Header/Header.jsx","componets/Header/HeaderContainer.jsx","hoc/WithSuspense.js","App.js","index.js","redux/AuthReducer.js","redux/AuthSelectors.js","componets/Header/Header.module.css","redux/ProfileReducer.js","assets/prelouder.png","componets/common/preloader/Preloader.js","redux/DialogReducer.js","utils/OblectHelpers.js","redux/UsersReducer.js","componets/common/preloader/Preloader.module.css","api/api.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SET_INITIALIZED","initialState","initialized","appReducer","state","action","type","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","authStore","authReducer","appStore","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Settings","Music","News","Navbar","className","css","nav","item","to","activeClassName","activeLinc","Header","props","header","logo","src","loginBlock","isAuth","authUserId","email","loginName","onClick","logout","HeaderContainer","this","React","Component","connect","getAuthUserId","getEmail","getLoginName","getIsAuth","withSuspense","Suspense","fallback","DialogsContainer","lazy","UsersContainer","ProfileContainer","LoginContainer","App","initializeApp","path","render","component","Preloader","AppContainer","withRouter","dispatch","authMe","MessengerApp","ReactDOM","document","getElementById","SET_USER_DATA","id","isFetching","setAuthUserData","login","payload","a","authAPI","response","data","resultCode","password","rememberMe","stopSubmit","_error","message","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","posts","likesCount","profile","status","addPost","setStatus","getUserById","userId","profileAPI","getStatus","updateStatus","nextId","length","text","filter","p","preloader","ADD_MESSAGE","dialogs","name","messages","addMessage","newMessageText","updateObjectInArray","items","itemId","objPropName","newObjectProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USER_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","portionSize","totalCount","currentPage","followingInProgress","followSuccess","unFollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","getUsers","usersAPI","userCount","count","followUnfollowFlow","apiMethod","actionCreator","follow","followAPI","bind","unFollow","followed","instance","axios","create","withCredentials","baseURL","headers","get","delete","post","put"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,WAAa,6B,iLCWtEC,G,OAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,yHCLRQ,EAAkB,sBAEpBC,EAAe,CACfC,aAAa,GA4BFC,EAzBW,WAAmC,IAAlCC,EAAiC,uDAAzBH,EAAcI,EAAW,uCAExD,OAAQA,EAAOC,MACX,KAAKN,EACD,OAAO,2BACAI,GADP,IAEIF,aAAa,IAGrB,QACI,OAAOE,ICTfG,EAAWC,YAAgB,CAC3BC,YAAaC,IACbC,YAAaC,IACbC,UAAWC,IACXC,UAAWC,IACXC,SAAUd,EACVe,KAAMC,MAGJC,EAAmBC,OAAOC,sCAAwCC,IAGzDC,EAFDC,YAAYlB,EAAUa,EAAiBM,YAAgBC,O,+BCPtDC,G,OATE,WACb,OACI,6CCOOC,G,OATD,WACV,OACI,0CCOOC,G,OATF,WACT,OACI,yC,iBCyBOC,EA1BA,WACX,OACI,sBAAKC,UAAWC,IAAIC,IAApB,UACI,qBAAKF,UAAWC,IAAIE,KAApB,SACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAIK,WAA5C,uBAEJ,qBAAKN,UAAWC,IAAIE,KAApB,SACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAIK,WAA5C,wBAEJ,qBAAKN,UAAWC,IAAIE,KAApB,SACI,cAAC,IAAD,CAASC,GAAG,QAAQC,gBAAiBJ,IAAIK,WAAzC,oBAEJ,qBAAKN,UAAWC,IAAIE,KAApB,SACI,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAIK,WAA1C,qBAEJ,qBAAKN,UAAWC,IAAIE,KAApB,SACI,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAIK,WAA1C,qBAEJ,qBAAKN,UAAWC,IAAIE,KAApB,SACI,cAAC,IAAD,CAASC,GAAG,YAAYC,gBAAiBJ,IAAIK,WAA7C,4B,iBCADC,EAnBA,SAACC,GAEZ,OAAO,yBAAQR,UAAWC,IAAIQ,OAAvB,UACC,qBAAKT,UAAWC,IAAIS,KAAMC,IAAI,oDAD/B,SAGC,qBAAKX,UAAWC,IAAIW,WAApB,SACKJ,EAAMK,OACA,gCACC,uCAAUL,EAAMM,cAChB,0CAAaN,EAAMO,SACnB,0CAAaP,EAAMQ,aACnB,wBAAQC,QAAST,EAAMU,OAAvB,uBAED,cAAC,IAAD,CAASd,GAAI,aAAb,yB,QCXjBe,E,uKAGE,OAAO,cAAC,EAAD,eAAYC,KAAKZ,Y,GAHFa,IAAMC,WAcrBC,eAPO,SAACnD,GAAD,MAAY,CAC9B0C,WAAYU,YAAcpD,GAC1B2C,MAAOU,YAASrD,GAChB4C,UAAWU,YAAatD,GACxByC,OAAQc,YAAUvD,MAGkB,CAAC8C,YAA1BK,CAAmCJ,GCjBrCS,EAAe,SAACN,GACzB,OAAO,SAACd,GACJ,OAAO,cAAC,IAAMqB,SAAP,CAAgBC,SAAU,6CAA1B,SACH,cAACR,EAAD,eAAed,QCSrBuB,EAAmBV,IAAMW,MAAK,kBAAM,uDACpCC,EAAiBZ,IAAMW,MAAK,kBAAM,uDAClCE,EAAmBb,IAAMW,MAAK,kBAAM,uDACpCG,EAAiBd,IAAMW,MAAK,kBAAM,uDAElCI,E,kLAGEhB,KAAKZ,MAAM6B,kB,+BAIX,OAAKjB,KAAKZ,MAAMtC,YAKZ,sBAAK8B,UAAU,cAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,sBAAKA,UAAU,sBAAf,UACI,cAAC,IAAD,CAAOsC,KAAK,oBAAoBC,OAAQX,EAAaM,KACrD,cAAC,IAAD,CAAOI,KAAK,WAAUC,OAAQX,EAAaG,KAC3C,cAAC,IAAD,CAAOO,KAAK,SAAQC,OAAQX,EAAaK,KACzC,cAAC,IAAD,CAAOK,KAAK,QAAQE,UAAW1C,IAC/B,cAAC,IAAD,CAAOwC,KAAK,SAASE,UAAW3C,IAChC,cAAC,IAAD,CAAOyC,KAAK,aAAYC,OAAQX,EAAaO,KAC7C,cAAC,IAAD,CAAOG,KAAK,YAAYE,UAAW5C,UAdpC,cAAC6C,EAAA,EAAD,Q,GARDpB,IAAMC,WAiCpBoB,EAAenD,YACfoD,IACApB,aANoB,SAACnD,GAAD,MAAY,CAChCF,YAAaE,EAAMa,SAASf,eAKH,CAACmE,cT/BD,WACzB,OAAO,SAACO,GACUA,EAASC,eACfnF,MAAK,WACLkF,EANyB,CAACtE,KAAMN,WS+B7BuB,CAGjB6C,GAUaU,EARM,SAACtC,GAClB,OAAO,cAAC,IAAD,UACH,cAAC,IAAD,CAAUhB,MAAOA,EAAjB,SACI,cAACkD,EAAD,SCvDZK,IAASR,OAAO,cAAC,EAAD,IAAiBS,SAASC,eAAe,SAEzD1F,K,wLCLM2F,EAAgB,qBAElBjF,EAAe,CACfkF,GAAI,KACJpC,MAAO,KACPC,UAAW,KACXH,QAAQ,EACRuC,YAAY,GAiBHC,EAAkB,SAACF,EAAIpC,EAAOuC,EAAOzC,GAAnB,MAA+B,CAC1DvC,KAAM4E,EACNK,QAAS,CAACJ,KAAIpC,QAAOuC,QAAOzC,YAGnBgC,EAAS,yDAAM,WAAOD,GAAP,uBAAAY,EAAA,sEACHC,IAAQZ,SADL,OAES,KAD7Ba,EADoB,QAEXC,KAAKC,aAAmB,EACAF,EAASC,KAAKA,KAA1CR,EAD2B,EAC3BA,GAAIpC,EADuB,EACvBA,MAAOuC,EADgB,EAChBA,MADgB,EACTzC,OACvB+B,EAASS,EAAgBF,EAAIpC,EAAOuC,GAAO,KAJvB,2CAAN,uDAQTA,EAAQ,SAACvC,EAAO8C,EAAUC,GAAlB,8CAAiC,WAAOlB,GAAP,eAAAY,EAAA,sEAC7BC,IAAQH,MAAMvC,EAAO8C,EAAUC,GADF,OAEjB,KAD7BJ,EAD8C,QAErCC,KAAKC,WACdhB,EAASC,KAETD,EAASmB,YAAW,YAAa,CAACC,OAAQN,EAASC,KAAKM,WALV,2CAAjC,uDASR/C,EAAS,yDAAM,WAAO0B,GAAP,SAAAY,EAAA,sEACHC,IAAQvC,SAASxD,MAAK,SAAAgG,GACN,IAA7BA,EAASC,KAAKC,YACdhB,EAASS,EAAgB,KAAM,KAAM,MAAM,OAH3B,yDAAN,uDASPrE,IA7CY,WAAmC,IAAlCZ,EAAiC,uDAAzBH,EAAcI,EAAW,uCAEzD,OAAQA,EAAOC,MACX,KAAK4E,EACD,OAAO,2BACA9E,GACAC,EAAOkF,SAGlB,QACI,OAAOnF,K,gCCvBnB,mJAEWoD,EAAgB,SAACpD,GAAD,OAAWA,EAAMW,UAAUoE,IAQ3C1B,EAAW,SAACrD,GAAD,OAAWA,EAAMW,UAAUgC,OAEtCW,EAAe,SAACtD,GAAD,OAAWA,EAAMW,UAAUgC,OAE1CY,EAAY,SAACvD,GAAD,OAAWA,EAAMW,UAAUgC,Q,mBCblD1D,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,WAAa,6B,0NCCrF4G,EAAW,mBACXC,EAAc,sBACdC,EAAmB,2BACnBC,EAAa,qBAEfpG,EAAe,CACfqG,MAAO,CACH,CAACnB,GAAI,EAAGc,QAAS,mBAAoBM,WAAY,IACjD,CAACpB,GAAI,EAAGc,QAAS,uCAAyCM,WAAY,MAE1EC,QAAS,KACTC,OAAQ,IA6BCC,EAAU,SAACT,GAAD,MAAc,CAAC3F,KAAM4F,EAAUD,YAGzCU,EAAY,SAACF,GAAD,MAAa,CAACnG,KAAM+F,EAAYI,WAE5CG,EAAc,SAACC,GAAD,8CAAY,WAAOjC,GAAP,eAAAY,EAAA,sEACdsB,IAAWF,YAAYC,GADT,OAC/BnB,EAD+B,OAEnCd,GAL2B4B,EAKHd,EAASC,KALO,CAACrF,KAAM8F,EAAkBI,aAG9B,iCAHT,IAACA,IAGQ,OAAZ,uDAMdO,EAAY,SAACF,GAAD,8CAAY,WAAOjC,GAAP,eAAAY,EAAA,sEACZsB,IAAWC,UAAUF,GADT,OAC7BnB,EAD6B,OAEjCd,EAAS+B,EAAUjB,EAASC,OAFK,2CAAZ,uDAMZqB,EAAe,SAACP,GAAD,8CAAY,WAAO7B,GAAP,SAAAY,EAAA,sEACfsB,IAAWE,aAAaP,GADT,OAEH,IAFG,OAEvBd,KAAKC,YACdhB,EAAS+B,EAAUF,IAHa,2CAAZ,uDAOb/F,IAlDe,WAAmC,IAAlCN,EAAiC,uDAAzBH,EAAcI,EAAW,uCAE5D,OAAQA,EAAOC,MAEX,KAAK4F,EACD,IAAIe,EAAS7G,EAAMkG,MAAMY,OAAS,EAC9BC,EAAO9G,EAAO4F,QAClB,OAAO,2BACA7F,GADP,IAEIkG,MAAM,GAAD,mBAAMlG,EAAMkG,OAAZ,CAAmB,CAACnB,GAAI8B,EAAQhB,QAASkB,EAAMZ,WAAY,OAGxE,KAAKH,EACD,OAAO,2BAAIhG,GAAX,IAAkBoG,QAASnG,EAAOmG,UAEtC,KAAKH,EACD,OAAO,2BAAIjG,GAAX,IAAkBqG,OAAQpG,EAAOoG,OAASpG,EAAOoG,OAAS,KAE9D,KAAKN,EACD,OAAO,2BAAI/F,GAAX,IAAkBkG,MAAOlG,EAAMkG,MAAMc,QAAO,SAAAC,GAAC,OAAIA,EAAElC,IAAM9E,EAAO8E,QAEpE,QACI,OAAO/E,K,4DCtCJ,MAA0B,sCCS1BqE,IANC,WACZ,OACI,qBAAKzC,UAAWC,IAAIqF,UAAW3E,IAAK2E,M,qFCLtCC,EAAc,sBAEhBtH,EAAe,CACfuH,QAAS,CACL,CAACrC,GAAI,EAAGsC,KAAM,UACd,CAACtC,GAAI,EAAGsC,KAAM,UACd,CAACtC,GAAI,EAAGsC,KAAM,UACd,CAACtC,GAAI,EAAGsC,KAAM,WAElBC,SAAU,CACN,CAACvC,GAAI,EAAGc,QAAS,SACjB,CAACd,GAAI,EAAGc,QAAS,MACjB,CAACd,GAAI,EAAGc,QAAS,MACjB,CAACd,GAAI,EAAGc,QAAS,kBAqBZ0B,EAAa,SAACR,GAAD,MAAW,CAAC7G,KAAMiH,EAAaJ,SAE1CvG,IAnBQ,WAAmC,IAAlCR,EAAiC,uDAAzBH,EAAcI,EAAW,uCAErD,OAAQA,EAAOC,MACX,KAAKiH,EACD,IAAIN,EAAS7G,EAAMsH,SAASR,OAAS,EACjCC,EAAO9G,EAAO8G,KAClB,OAAO,2BACA/G,GADP,IAEIwH,eAAgB,GAChBF,SAAS,GAAD,mBAAMtH,EAAMsH,UAAZ,CAAsB,CAACvC,GAAI8B,EAAQhB,QAASkB,OAG5D,QACI,OAAO/G,K,4PC9BNyH,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,KAAI,SAAAC,GACb,OAAIA,EAAEH,KAAiBD,EACZ,2BAAII,GAAMF,GAEdE,MCFTC,EAAS,eACTC,EAAW,iBACXC,EAAY,kBACZC,EAAmB,yBACnBC,EAAuB,6BACvBC,EAAqB,2BACrBC,EAA+B,qCAEjCzI,EAAe,CACf0I,MAAO,GACPC,SAAU,GACVC,YAAa,GACbC,WAAY,EACZC,YAAa,EACb3D,YAAY,EACZ4D,oBAAqB,IA0CZC,EAAgB,SAACpC,GAAD,MAAa,CAACvG,KAAM8H,EAAQvB,WAC5CqC,EAAkB,SAACrC,GAAD,MAAa,CAACvG,KAAM+H,EAAUxB,WAEhDsC,EAAiB,SAACJ,GAAD,MAAkB,CAACzI,KAAMiI,EAAkBQ,gBAE5DK,EAAmB,SAAChE,GAAD,MAAiB,CAAC9E,KAAMmI,EAAoBrD,eAC/DiE,EAA4B,SAACL,EAAqBnC,GAAtB,MAAkC,CACvEvG,KAAMoI,EACNM,sBACAnC,WAGSyC,EAAW,SAACP,EAAaH,GAClC,8CAAO,WAAOhE,GAAP,eAAAY,EAAA,6DACHZ,EAASwE,GAAiB,IADvB,SAGcG,IAASD,SAASP,EAAaH,GAH7C,OAGCjD,EAHD,OAKHf,EAASwE,GAAiB,IAC1BxE,GAjBiB+D,EAiBChD,EAAKmC,MAjBK,CAACxH,KAAMgI,EAAWK,WAkB9C/D,GAhB2B4E,EAgBC7D,EAAKmD,WAhBS,CAACxI,KAAMkI,EAAsBiB,MAAOD,KAS3E,iCATuB,IAACA,EAFVb,IAWd,OAAP,uDAWEe,EAAkB,uCAAG,WAAO9E,EAAUiC,EAAQ8C,EAAWC,GAApC,SAAApE,EAAA,6DACvBZ,EAASyE,GAA0B,EAAMxC,IADlB,SAEN8C,EAAU9C,GAFJ,OAGC,IAHD,OAGdjB,YACLhB,EAASgF,EAAc/C,IAE3BjC,EAASyE,GAA0B,EAAOxC,IANnB,2CAAH,4DASXgD,EAAS,SAAChD,GACnB,OAAO,SAACjC,GACJ8E,EAAmB9E,EAAUiC,EAAQiD,IAAUD,OAAOE,KAAKD,KAAYb,KAIlEe,EAAW,SAACnD,GACrB,OAAO,SAACjC,GACJ8E,EAAmB9E,EAAUiC,EAAQiD,IAAUE,SAASD,KAAKD,KAAYZ,KAKlEpI,IArFM,WAAmC,IAAlCV,EAAiC,uDAAzBH,EAAcI,EAAW,uCACnD,OAAQA,EAAOC,MACX,KAAK8H,EACD,OAAO,2BACAhI,GADP,IAEIuI,MAAOd,EAAoBzH,EAAMuI,MAAOtI,EAAOwG,OAAQ,KAAO,CAACoD,UAAU,MAGjF,KAAK5B,EACD,OAAO,2BACAjI,GADP,IAEIuI,MAAOd,EAAoBzH,EAAMuI,MAAOtI,EAAOwG,OAAQ,KAAO,CAACoD,UAAU,MAGjF,KAAK3B,EACD,OAAO,2BAAIlI,GAAX,IAAkBuI,MAAOtI,EAAOsI,QAEpC,KAAKH,EACD,OAAO,2BAAIpI,GAAX,IAAkB0I,WAAYzI,EAAOoJ,QAEzC,KAAKlB,EACD,OAAO,2BAAInI,GAAX,IAAkB2I,YAAa1I,EAAO0I,cAE1C,KAAKN,EACD,OAAO,2BAAIrI,GAAX,IAAkBgF,WAAY/E,EAAO+E,aAEzC,KAAKsD,EACD,OAAO,2BACAtI,GADP,IAEI4I,oBAAqB3I,EAAO2I,oBAAP,sBACX5I,EAAM4I,qBADK,CACgB3I,EAAOwG,SACtCzG,EAAM4I,oBAAoB5B,QAAO,SAAAjC,GAAE,OAAIA,IAAO9E,EAAOwG,YAGnE,QACI,OAAOzG,K,mBCvDnBf,EAAOC,QAAU,CAAC,UAAY,+B,+BCD9B,oJAEI4K,EAFJ,OAEeC,EAAMC,OAAO,CACxBC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CAAC,UAAW,0CAGZhB,EAAW,CACpBD,SADoB,SACXP,EAAaH,GAClB,OAAOsB,EAASM,IAAT,qBAA2BzB,EAA3B,kBAAgDH,IAClDlJ,MAAK,SAAAgG,GAAQ,OAAIA,EAASC,UAI1BmE,EAAY,CAErBE,SAFqB,SAEZnD,GACL,OAAOqD,EAASO,OAAT,iBAA0B5D,IAAUnH,MAAK,SAAAgG,GAAQ,OAAIA,EAASC,SAGzEkE,OANqB,SAMdhD,GACH,OAAOqD,EAASQ,KAAT,iBAAwB7D,IAAUnH,MAAK,SAAAgG,GAAQ,OAAIA,EAASC,UAM9DF,EAAU,CACnBZ,OADmB,WAEf,OAAOqF,EAASM,IAAT,YAGXlF,MALmB,SAKbvC,EAAO8C,GAA+B,IAArBC,EAAoB,wDACvC,OAAOoE,EAASS,IAAT,aAA2B,CAAC5H,QAAO8C,WAAUC,gBAGxD5C,OATmB,WAUf,OAAOgH,EAASO,OAAT,gBAIF3D,EAAa,CACtBF,YADsB,SACVC,GACR,OAAOqD,EAASM,IAAT,kBAAwB3D,KAGnCE,UALsB,SAKZF,GACN,OAAOqD,EAASM,IAAT,yBAA+B3D,KAG1CG,aATsB,SASTP,GACT,OAAOyD,EAASS,IAAT,iBAA+B,CAAClE,OAAQA,Q","file":"static/js/main.f3304cb7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__24b6R\",\"item\":\"Navbar_item__2DWAx\",\"activeLinc\":\"Navbar_activeLinc__3iTot\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {authMe} from \"./AuthReducer\";\n\nconst SET_INITIALIZED = 'app/SET_INITIALIZED';\n\nlet initialState = {\n    initialized: false\n}\n\nexport const appReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SET_INITIALIZED: {\n            return {\n                ...state,\n                initialized: true\n            };\n        }\n        default:\n            return state\n    }\n}\n\nexport const initializedSuccess = () => ({type: SET_INITIALIZED})\n\nexport const initializeApp = () => {\n    return (dispatch) => {\n        let promise = dispatch(authMe())\n        promise.then(() => {\n                dispatch(initializedSuccess())\n        })\n    }\n}\n\nexport default appReducer;\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport dialogsReducer from \"./DialogReducer\";\nimport profileReducer from \"./ProfileReducer\";\nimport usersReducer from \"./UsersReducer\";\nimport authReducer from \"./AuthReducer\";\nimport thunkMiddleware from \"redux-thunk\"\nimport {reducer as formReducer} from \"redux-form\"\nimport appReducer from \"./AppReducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    usersPage: usersReducer,\n    authStore: authReducer,\n    appStore: appReducer,\n    form: formReducer\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nexport default store;","import React from 'react';\nimport css from './Settings.module.css';\n\nconst Settings = () => {\n    return (\n        <div>\n            Settings\n        </div>\n    )\n\n}\n\nexport default Settings;","import React from 'react';\nimport css from './Music.module.css';\n\nconst Music = () => {\n    return (\n        <div>\n            Music\n        </div>\n    )\n\n}\n\nexport default Music;","import React from 'react';\nimport css from './News.module.css';\n\nconst News = () => {\n    return (\n        <div>\n            News\n        </div>\n    )\n\n}\n\nexport default News;","import React from 'react';\nimport css from './Navbar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Navbar = () => {\n    return (\n        <nav className={css.nav}>\n            <div className={css.item}>\n                <NavLink to='/profile' activeClassName={css.activeLinc}>Profile</NavLink>\n            </div>\n            <div className={css.item}>\n                <NavLink to='/dialogs' activeClassName={css.activeLinc}>Messages</NavLink>\n            </div>\n            <div className={css.item}>\n                <NavLink to='/news' activeClassName={css.activeLinc}>News</NavLink>\n            </div>\n            <div className={css.item}>\n                <NavLink to='/music' activeClassName={css.activeLinc}>Music</NavLink>\n            </div>\n            <div className={css.item}>\n                <NavLink to='/users' activeClassName={css.activeLinc}>Users</NavLink>\n            </div>\n            <div className={css.item}>\n                <NavLink to='/settings' activeClassName={css.activeLinc}>Settings</NavLink>\n            </div>\n        </nav>\n    )\n\n}\n\nexport default Navbar;","import React from 'react';\nimport css from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = (props) => {\n\n    return <header className={css.header}>\n            <img className={css.logo} src='https://cdn.logo.com/hotlink-ok/logo-social.png'/>\n            Header\n            <div className={css.loginBlock}>\n                {props.isAuth\n                    ? (<div>\n                        <div>id: {props.authUserId}</div>\n                        <div>email: {props.email}</div>\n                        <div>login: {props.loginName}</div>\n                        <button onClick={props.logout}>Logout</button>\n                    </div>)\n                    :  <NavLink to={'/loginName'}>Login</NavLink>}\n\n            </div>\n        </header>\n}\n\nexport default Header;","import React from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/AuthReducer\";\nimport {getAuthUserId, getEmail, getIsAuth, getLoginName} from \"../../redux/AuthSelectors\";\n\nclass HeaderContainer extends React.Component {\n\n    render() {\n        return <Header {...this.props}/>\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    authUserId: getAuthUserId(state),\n    email: getEmail(state),\n    loginName: getLoginName(state),\n    isAuth: getIsAuth(state)\n})\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\n\n\nexport const withSuspense = (Component) => {\n    return (props) => {\n        return <React.Suspense fallback={<div>Loading...</div>}>\n            <Component {...props}/>\n        </React.Suspense>\n    }\n}","import React from \"react\";\nimport './App.css';\nimport store from \"./redux/ReduxStore\";\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/AppReducer\";\nimport Preloader from \"./componets/common/preloader/Preloader\";\nimport Settings from \"./componets/Settings/Settings\";\nimport Music from \"./componets/Music/Music\";\nimport News from \"./componets/News/News\";\nimport Navbar from \"./componets/Navbar/Navbar\";\nimport HeaderContainer from \"./componets/Header/HeaderContainer\";\nimport {withSuspense} from \"./hoc/WithSuspense\";\n\nconst DialogsContainer = React.lazy(() => import(\"./componets/Dialogs/DialogsContainer\"))\nconst UsersContainer = React.lazy(() => import(\"./componets/Users/UsersContainer\"))\nconst ProfileContainer = React.lazy(() => import(\"./componets/Profile/ProfileConteiner\"))\nconst LoginContainer = React.lazy(() => import(\"./componets/Login/LoginContainer\"))\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                    <Route path='/dialogs'render={withSuspense(DialogsContainer)}/>\n                    <Route path='/users'render={withSuspense(UsersContainer)}/>\n                    <Route path='/news' component={News}/>\n                    <Route path='/music' component={Music}/>\n                    <Route path='/loginName'render={withSuspense(LoginContainer)}/>\n                    <Route path='/settings' component={Settings}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.appStore.initialized\n})\n\nlet AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App);\n\nconst MessengerApp = (props) => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>\n}\n\nexport default MessengerApp\n\n\n","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport MessengerApp from './App';\n\nReactDOM.render(<MessengerApp/>, document.getElementById('root'));\n\nreportWebVitals();\n","import {authAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\n\nlet initialState = {\n    id: null,\n    email: null,\n    loginName: null,\n    isAuth: false,\n    isFetching: false\n}\n\nexport const authReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SET_USER_DATA: {\n            return {\n                ...state,\n                ...action.payload\n            };\n        }\n        default:\n            return state\n    }\n}\n\nexport const setAuthUserData = (id, email, login, isAuth) => ({\n    type: SET_USER_DATA,\n    payload: {id, email, login, isAuth}\n})\n\nexport const authMe = () => async (dispatch) => {\n    let response = await authAPI.authMe();\n    if (response.data.resultCode === 0) {\n        let {id, email, login, isAuth} = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    }\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe);\n    if (response.data.resultCode === 0) {\n        dispatch(authMe());\n    } else {\n        dispatch(stopSubmit(\"loginForm\", {_error: response.data.message}))\n    }\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout().then(response => {\n        if (response.data.resultCode === 0) {\n            dispatch(setAuthUserData(null, null, null, false));\n        }\n    })\n}\n\n\nexport default authReducer;\n","import {createSelector} from \"reselect\";\n\nexport let getAuthUserId = (state) => state.authStore.id\n\n/**\nconst getAuthUserIdSelector = createSelector(getAuthUserId, (user) => {\n    return user.map(u => true)\n})\n */\n\nexport let getEmail = (state) => state.authStore.email\n\nexport let getLoginName = (state) => state.authStore.email\n\nexport let getIsAuth = (state) => state.authStore.email\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1B6uv\",\"logo\":\"Header_logo__2aypH\",\"loginBlock\":\"Header_loginBlock__2NTfI\"};","import {profileAPI} from \"../api/api\";\n\nconst ADD_POST = 'profile/ADD_POST';\nconst DELETE_POST = 'profile/DELETE_POST';\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\nconst SET_STATUS = 'profile/SET_STATUS';\n\nlet initialState = {\n    posts: [\n        {id: 1, message: 'Hi. how are you?', likesCount: 15},\n        {id: 2, message: 'It\\'s my first post in this messenger', likesCount: 100}\n    ],\n    profile: null,\n    status: ''\n}\n\nexport const profileReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case ADD_POST: {\n            let nextId = state.posts.length + 1;\n            let text = action.message;\n            return {\n                ...state,\n                posts: [...state.posts, {id: nextId, message: text, likesCount: 0}]\n            };\n        }\n        case SET_USER_PROFILE: {\n            return {...state, profile: action.profile}\n        }\n        case SET_STATUS: {\n            return {...state, status: action.status ? action.status : ''}\n        }\n        case DELETE_POST: {\n            return {...state, posts: state.posts.filter(p => p.id != action.id)}\n        }\n        default:\n            return state\n    }\n}\n\nexport const addPost = (message) => ({type: ADD_POST, message})\nexport const deletePost = (id) => ({type: DELETE_POST, id})\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\n\nexport const getUserById = (userId) => async (dispatch) => {\n    let response = await profileAPI.getUserById(userId);\n    dispatch(setUserProfile(response.data));\n}\n\n\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId);\n    dispatch(setStatus(response.data));\n}\n\n\nexport const updateStatus = (status) => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status));\n    }\n}\n\nexport default profileReducer;\n","export default __webpack_public_path__ + \"static/media/prelouder.d7a67c98.png\";","import css from \"./Preloader.module.css\";\nimport preloader from \"../../../assets/prelouder.png\";\n\nlet Preloader = () => {\n    return (\n        <img className={css.preloader} src={preloader}/>\n    )\n}\n\nexport default Preloader;","const ADD_MESSAGE = 'dialogs/ADD_MESSAGE';\n\nlet initialState = {\n    dialogs: [\n        {id: 1, name: 'Sergei'},\n        {id: 2, name: 'Dimych'},\n        {id: 3, name: 'Andrei'},\n        {id: 4, name: 'Sergei'},\n    ],\n    messages: [\n        {id: 1, message: 'Hello'},\n        {id: 2, message: 'Yo'},\n        {id: 3, message: 'Hi'},\n        {id: 4, message: 'How are you?'},\n    ],\n}\n\nconst dialogsReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case ADD_MESSAGE: {\n            let nextId = state.messages.length + 1;\n            let text = action.text;\n            return {\n                ...state,\n                newMessageText: '',\n                messages: [...state.messages, {id: nextId, message: text}]\n            };\n        }\n        default:\n            return state;\n    }\n\n}\nexport const addMessage = (text) => ({type: ADD_MESSAGE, text})\n\nexport default dialogsReducer;\n","export const updateObjectInArray = (items, itemId, objPropName, newObjectProps) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return {...u, ...newObjectProps}\n        }\n        return u;\n    })\n}","import {followAPI, usersAPI} from \"../api/api\";\nimport {updateObjectInArray} from \"../utils/OblectHelpers\";\n\nconst FOLLOW = 'users/FOLLOW';\nconst UNFOLLOW = 'users/UNFOLLOW';\nconst SET_USERS = 'users/SET_USERS';\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\nconst SET_TOTAL_USER_COUNT = 'users/SET_TOTAL_USER_COUNT';\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState = {\n    users: [],\n    pageSize: 10,\n    portionSize: 10,\n    totalCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: []\n}\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id' , {followed: true})\n            }\n        }\n        case UNFOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id' , {followed: false})\n            }\n        }\n        case SET_USERS: {\n            return {...state, users: action.users,}\n        }\n        case SET_TOTAL_USER_COUNT: {\n            return {...state, totalCount: action.count}\n        }\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.followingInProgress\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\nexport const unFollowSuccess = (userId) => ({type: UNFOLLOW, userId})\nexport const setUsers = (users) => ({type: SET_USERS, users})\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setTotalUsersCount = (userCount) => ({type: SET_TOTAL_USER_COUNT, count: userCount})\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleIsFollowingProgress = (followingInProgress, userId) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    followingInProgress,\n    userId\n})\n\nexport const getUsers = (currentPage, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n\n        let data = await usersAPI.getUsers(currentPage, pageSize);\n\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(data.items));\n        dispatch(setTotalUsersCount(data.totalCount));\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleIsFollowingProgress(true, userId));\n    let data = await apiMethod(userId);\n    if (data.resultCode === 0) {\n        dispatch(actionCreator(userId));\n    }\n    dispatch(toggleIsFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n    return (dispatch) => {\n        followUnfollowFlow(dispatch, userId, followAPI.follow.bind(followAPI), followSuccess)\n    }\n}\n\nexport const unFollow = (userId) => {\n    return (dispatch) => {\n        followUnfollowFlow(dispatch, userId, followAPI.unFollow.bind(followAPI), unFollowSuccess)\n\n    }\n}\n\nexport default usersReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3tsQ6\"};","import axios from \"axios\";\n\nlet instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {'API-KEY': 'ccaf8add-c2f6-4151-acde-b5e4467764db'}\n});\n\nexport const usersAPI = {\n    getUsers(currentPage, pageSize) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data)\n    }\n}\n\nexport const followAPI = {\n\n    unFollow(userId) {\n        return instance.delete(`follow/${userId}`).then(response => response.data)\n    },\n\n    follow(userId) {\n        return instance.post(`follow/${userId}`).then(response => response.data)\n    }\n}\n\n\n\nexport const authAPI = {\n    authMe() {\n        return instance.get(`auth/me`)\n    },\n\n    login(email, password, rememberMe = false) {\n        return instance.put(`auth/login`, {email, password, rememberMe});\n    },\n\n    logout() {\n        return instance.delete(`auth/login`);\n    }\n}\n\nexport const profileAPI = {\n    getUserById(userId) {\n        return instance.get(`profile/${userId}`)\n    },\n\n    getStatus(userId) {\n        return instance.get(`profile/status/${userId}`)\n    },\n\n    updateStatus(status) {\n        return instance.put(`profile/status`, {status: status})\n    }\n}\n\n"],"sourceRoot":""}